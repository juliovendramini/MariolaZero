# VL53L0X

A classe `VL53L0X` fornece controle completo do sensor de distância laser VL53L0X via I2C através de um multiplexador TCA9548A. Oferece medições precisas de distância com configuração avançada de timing e calibração automática.

---

## Exemplo de uso

```python
from libs.vl53 import VL53L0X

# Inicializa o sensor na porta 0 do multiplexador
sensor = VL53L0X(porta_mux=0)

# Medição única
distancia = sensor.read_range_single_millimeters()
print(f"Distância: {distancia} mm")

# Medições contínuas
sensor.start_continuous()
for i in range(10):
    distancia = sensor.read_range_continuous_millimeters()
    print(f"Medição {i+1}: {distancia} mm")
sensor.stop_continuous()

# Medição com timing personalizado
sensor.set_measurement_timing_budget(50000)  # 50ms
distancia = sensor.read_range_single_millimeters()
print(f"Distância (50ms timing): {distancia} mm")
```

---

## Métodos Principais

### `__init__(self, porta_mux=None)`
Inicializa o sensor VL53L0X no canal especificado do multiplexador.

- **porta_mux**: canal do multiplexador TCA9548A (0 a 7)

### `read_range_single_millimeters(self)`
Realiza uma medição única de distância.

- **Retorno**: distância em milímetros

### `read_range_continuous_millimeters(self)`
Lê a distância no modo contínuo (deve chamar `start_continuous()` primeiro).

- **Retorno**: distância em milímetros

### `start_continuous(self, period_ms=0)`
Inicia medições contínuas.

- **period_ms**: período entre medições em ms (0 = back-to-back)

### `stop_continuous(self)`
Para as medições contínuas.

### `set_measurement_timing_budget(self, budget_us)`
Define o tempo máximo de medição.

- **budget_us**: tempo em microssegundos (mínimo ~20ms)

---

## Métodos de Configuração

### `set_signal_rate_limit(self, limit)`
Define o limite de taxa de sinal.

- **limit**: limite em MCPS (ex: 0.25)

### `get_measurement_timing_budget(self)`
Obtém o timing budget atual.

- **Retorno**: tempo em microssegundos

### `solicita_leitura(self)`
Solicita uma leitura sem retornar o resultado (modo assíncrono).

---

## Detalhes Técnicos

- **Alcance**: até 2 metros (dependendo das condições)
- **Precisão**: ±3% típico
- **Tempo de medição**: configurável (20ms a 300ms+)
- **Interface**: I2C através de multiplexador TCA9548A
- **Calibração**: automática durante inicialização

---

## Configuração Avançada

- Calibração automática de referência VHV e fase
- Configuração de SPADs (Single Photon Avalanche Diodes)
- Ajuste de timing budget para diferentes velocidades/precisões
- Suporte a medições cronometradas e back-to-back

---

## Requisitos

- [smbus2](https://pypi.org/project/smbus2/)
- Multiplexador TCA9548A conectado no barramento I2C

---

## Licença

MIT License.
